{% extends 'base.html' %}

{% block cdns %}
<link href="https://preview.keenthemes.com/craft/assets/css/style.bundle.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="/static/signup/signup.css">
<script src="https://preview.keenthemes.com/craft/assets/js/scripts.bundle.js"></script>
{% endblock cdns %}

{% block title %}{% endblock title %}


{% block navElements %}
{% comment %} Empty {% endcomment %}
{% endblock navElements %}

{% block log %}
<a class="rippler rippler-{{theme}}" href="{% url 'signUp' %}">Already a User?</a>
{% endblock log %}

{% block body %}

<div class="form-container">

  <form class="needs-validation" id="signup_form" method="post" novalidate>
    {% csrf_token %}
    <div class="row">
      <div class="col-md-4" style="display:flex;justify-content:center;">
        <!--begin::Image input-->
        <div class="image-input image-input-circle w-125px h-125px" data-kt-image-input="true"
          style="background-image: url(/static/server/empty.jpg); width:fit-content; margin:auto;">
          <!--begin::Image preview wrapper-->
          <div class="image-input-wrapper w-125px h-125px" style="background-image: url(/static/server/empty.jpg)">
          </div>
          <!--end::Image preview wrapper-->

          <!--begin::Edit button-->
          <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-white shadow"
            data-kt-image-input-action="change" data-bs-toggle="tooltip" data-bs-dismiss="click" title="Change avatar">
            <i class="fas fa-pen"></i>

            <!--begin::Inputs-->
            <input type="file" name="avatar" accept=".png, .jpg, .jpeg" />
            <input type="hidden" name="avatar_remove" />
            <!--end::Inputs-->
          </label>
          <!--end::Edit button-->

          <!--begin::Cancel button-->
          <span class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-white shadow"
            data-kt-image-input-action="cancel" data-bs-toggle="tooltip" data-bs-dismiss="click" title="Cancel avatar">
            <i class="fas fa-times"></i>
          </span>
          <!--end::Cancel button-->

          <!--begin::Remove button-->
          <span class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-white shadow"
            data-kt-image-input-action="remove" data-bs-toggle="tooltip" data-bs-dismiss="click" title="Remove avatar">
            <i class="fas fa-user-times"></i>
          </span>
          <!--end::Remove button-->
        </div>
        <!--end::Image input-->
      </div>
      <div class="col-md-8">
        <div class="row">
          <div class="position-relative">
            <label for="first_name" class="form-label">First name</label>
            <input type="text" class="form-control" name="first_name" id="first_name" placeholder="First name" required>
            {% comment %} <div class="valid-tooltip">
              Looks good!
            </div> {% endcomment %}
          </div>
        </div>
        <div class="row">
          <div class="position-relative">
            <label for="last_name" class="form-label">Last name</label>
            <input type="text" class="form-control" name="last_name" id="last_name" placeholder="Last name" required>
            {% comment %} <div class="valid-tooltip">
              Looks good!
            </div> {% endcomment %}
          </div>
        </div>
      </div>
    </div>

    <div class="row" style="align-items:flex-end;">
      <div class="position-relative col-md-4">
        <label for="username" class="form-label">Username</label>
        <div class="input-group has-validation">
          <span class="input-group-text" id="validationTooltipUsernamePrepend">@</span>
          <input type="text" class="form-control" name="username" id="username"
            aria-describedby="username" required>
          <div class="invalid-tooltip">
            Please choose a unique and valid username.
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <label class="form-label">Type of account :</label>
        <div class="input-group">
          <div class="input-group-text">
            <input class="form-check-input mt-0" id="account-p" type="radio" name="account" value="" aria-label="Radio button for following text input" required>
            {% comment %} <div class="invalid-feedback">More example invalid feedback text</div> {% endcomment %}
          </div>
          <span class="form-control" aria-label="Text input with radio button"><label for="account-p">Private</label></span>
        </div>
      </div>
      <div class="col-md-4">
        <div class="input-group">
          <div class="input-group-text">
            <input class="form-check-input mt-0" id="account-b" type="radio" name="account" value="" aria-label="Radio button for following text input" required>
            {% comment %} <div class="invalid-feedback">More example invalid feedback text</div> {% endcomment %}
          </div>
          <span class="form-control" aria-label="Text input with radio button"><label for="account-b">Business</label></span>
        </div>
      </div>
      
    </div>
    
    <div class="mb-3 row" style="margin-top:20px;">
      <label for="pass-1" class="col-sm-2 col-form-label">Password</label>
      <div class="col-sm-10" style="position:relative;">
        <input type="password" class="form-control" name="password" id="pass-1">
        <div class="invalid-tooltip">
          Ensure minimum of 8 characters for maximum security.
        </div>
      </div>
    </div>

    <div class="mb-3 row">
      <label for="pass-2" class="col-sm-2 col-form-label">Confirm password</label>
      <div class="col-sm-10" style="position:relative;">
        <input type="password" class="form-control" id="pass-2">
        <div class="invalid-tooltip">
          Make sure the password matches with the one entered above.
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-md-4">
        <div class="mb-3">
          <select class="form-select" id="country" name="country" required aria-label="select">
            <option value="">Country</option>
          </select>
          <div class="invalid-feedback">Choose your country</div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-3">
          <select class="form-select" id="state" name="state" required aria-label="select">
            <option value="">State</option>
          </select>
          <div class="invalid-feedback">Choose your state</div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="mb-3">
          <select class="form-select" id="city" name="city" required aria-label="select">
            <option value="">City</option>
          </select>
          <div class="invalid-feedback">Choose your city</div>
        </div>
      </div>
    </div>

    <div id="email-section" class="input-group mb-3 ep">
      <label for="email" class="col-sm-2 col-form-label">Email</label>
      <input type="email" class="form-control" name="email" id="email" placeholder="xxx@xxx.xxx" aria-label="Recipient's username" aria-describedby="button-addon1">
      <div class="invalid-tooltip">
        Please provide a valid email id and get it verified.
      </div>
      <button type="button" class="outline-btn" id="send_email_otp" onclick="send_otp_email()">Send OTP</button>
      <div id="email_verify" style="display:none;">
        <input type="text" class="form-control" name="otp_email" id="otp_email" placeholder="Enter OTP">
        <div class="invalid-tooltip">
          Please enter the OTP recieved in this email id.
        </div>
        <button type="button" class="outline-btn" id="verify_email">Verify</button>
      </div>
    </div>

    <div class="input-group mb-3 ep">
      <label for="phno" class="col-sm-2 col-form-label">Phone number</label>
      <input type="tel" class="form-control" name="phno" id="phno" placeholder="xxxxxxxxxx" aria-label="Recipient's username" aria-describedby="button-addon2">
      <button class="outline-btn" type="button" id="button-addon2">Send OTP</button>
    </div>

    <div class="mb-3 row position-relative">
      <label for="zip" class="col-sm-2 col-form-label">Zip</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="zip" name="zip" required>
        <div class="invalid-tooltip">
          Please provide a valid zip.
        </div>
      </div>
    </div>

    <div class="input-group ep">
      <span class="textarea-label input-group-text col-sm-2">Address</span>
      <textarea class="form-control" aria-label="Textarea" id="address" name="address" placeholder="Address" style="border-radius: 0.475rem;" required></textarea>
      <div class="invalid-feedback">
        Please enter your address.
      </div>
    </div>

    <input type="hidden" name="latitude" id="latitude" disabled>
    <input type="hidden" name="longitude" id="longitude" disabled>

    <div class="col-md-12" style="margin-top:33px;">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" value="" id="agree" required>
        <label class="form-check-label" for="agree" style="font-size:16px;">
          You agree to the terms and conditions of <b>#vocalForLocal</b> and will abide by its rules. Any kind of misbehaviour, threats or unorderly actions can lead to permanent ban of your account.
        </label>
        <div class="invalid-feedback">
          You must agree before submitting.
        </div>
      </div>
    </div>
    
    <div class="row mb-15 mt-10" style="justify-content:flex-end;">
      <div class="col-md-2" style="padding:0;">
        <button class="btn-secondary rippler rippler-{{theme}}" type="submit">Submit form</button>
      </div>
    </div>
    
  </form>
</div>

<div class="modal fade" id="grantLocation" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="grantLocationLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="grantLocationLabel">Permission Required</h5>
                {% comment %} <button type="button" class="btn-close" data-bs-dismiss="modal"
                    aria-label="Close"></button> {% endcomment %}
            </div>
            <div class="modal-body">
                <p>As far as this website is concerned, we need access to your location to accurately determine which
                    stores are nearby your area and to provide you with the best of our services.</p>
                <p>We are not involved with any kind of third party applications and your location will not be forwarded
                    to any external sources.</p>
                <p>This is how you can grant us access to your location</p>
                <p>Method 1</p>
                <img src="/static/permission/permission.jpg" alt="Location Access">
                <p>Look at the top right of your browser, click on the location icon, select Allow and click Done</p>
                <p>Method 2</p>
                <p>Click on the i icon on the left side of website's name, toggle the location checkbox and reload the
                    website</p>
            </div>
            {% comment %} <div class="modal-footer"> {% endcomment %}
                {% comment %} <button type="button" class="btn btn-primary" data-bs-dismiss="modal">I
                    Understand</button> {% endcomment %}
                {% comment %} </div> {% endcomment %}
        </div>
    </div>
</div>

{% endblock body %}

{% block scripts %}
<script src="/static/signup/signup.js"></script>
<script>
    setter("{{csc_token}}");
</script>
{% endblock scripts %}